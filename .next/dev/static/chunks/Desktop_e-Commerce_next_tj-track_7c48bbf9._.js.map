{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/EUROPEOLINE/Desktop/e-Commerce/next/tj-track/lib/api.ts"],"sourcesContent":["export const DEMO_MODE = process.env.NEXT_PUBLIC_DEMO_MODE === 'false'\n\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8080/api/v1.0\"\nconst API_TIMEOUT = parseInt(process.env.NEXT_PUBLIC_API_TIMEOUT || '30000')\n\ninterface RequestConfig extends RequestInit {\n  params?: Record<string, string | number | boolean | undefined>\n}\n\nclass ApiClient {\n  private baseUrl: string\n  private token: string | null = null\n\n  constructor(baseUrl: string) {\n    this.baseUrl = baseUrl\n  }\n\n  setToken(token: string | null) {\n    this.token = token\n  }\n\n  private buildUrl(endpoint: string, params?: Record<string, string | number | boolean | undefined>): string {\n    const url = new URL(`${this.baseUrl}${endpoint}`)\n    if (params) {\n      Object.entries(params).forEach(([key, value]) => {\n        if (value !== undefined) {\n          url.searchParams.append(key, String(value))\n        }\n      })\n    }\n    return url.toString()\n  }\n\n  private async request<T>(endpoint: string, config: RequestConfig = {}, retries = 3): Promise<T> {\n    const { params, ...fetchConfig } = config\n    const url = this.buildUrl(endpoint, params)\n\n    const headers: HeadersInit = {\n      \"Content-Type\": \"application/json\",\n      ...config.headers,\n    }\n\n    if (this.token) {\n      ;(headers as Record<string, string>)[\"Authorization\"] = `Bearer ${this.token}`\n    }\n\n    const controller = new AbortController()\n    const timeoutId = setTimeout(() => controller.abort(), API_TIMEOUT)\n\n    try {\n      const response = await fetch(url, {\n        ...fetchConfig,\n        headers,\n        signal: controller.signal,\n      })\n\n      clearTimeout(timeoutId)\n\n      if (!response.ok) {\n        const error = await response.json().catch(() => ({ \n          message: `Erreur HTTP: ${response.status}`,\n          status: response.status \n        }))\n        \n        // Retry on server errors (5xx) or network issues\n        if (response.status >= 500 && retries > 0) {\n          console.warn(`Retrying request to ${endpoint}, attempts left: ${retries - 1}`)\n          await new Promise(resolve => setTimeout(resolve, 1000)) // Wait 1s before retry\n          return this.request<T>(endpoint, config, retries - 1)\n        }\n        \n        throw new Error(error.message || `Erreur HTTP: ${response.status}`)\n      }\n\n      return response.json()\n    } catch (error) {\n      clearTimeout(timeoutId)\n      \n      if (error instanceof Error && error.name === 'AbortError') {\n        throw new Error('Timeout: La requête a pris trop de temps')\n      }\n      \n      // Retry on network errors\n      if (retries > 0 && error instanceof TypeError) {\n        console.warn(`Network error, retrying ${endpoint}, attempts left: ${retries - 1}`)\n        await new Promise(resolve => setTimeout(resolve, 1000))\n        return this.request<T>(endpoint, config, retries - 1)\n      }\n      \n      throw error\n    }\n  }\n\n  async get<T>(endpoint: string, params?: Record<string, string | number | boolean | undefined>): Promise<T> {\n    return this.request<T>(endpoint, { method: \"GET\", params })\n  }\n\n  async post<T>(\n    endpoint: string,\n    data?: unknown,\n    params?: Record<string, string | number | boolean | undefined>,\n  ): Promise<T> {\n    return this.request<T>(endpoint, {\n      method: \"POST\",\n      body: data ? JSON.stringify(data) : undefined,\n      params,\n    })\n  }\n\n  async put<T>(\n    endpoint: string,\n    data?: unknown,\n    params?: Record<string, string | number | boolean | undefined>,\n  ): Promise<T> {\n    return this.request<T>(endpoint, {\n      method: \"PUT\",\n      body: data ? JSON.stringify(data) : undefined,\n      params,\n    })\n  }\n\n  async delete<T>(endpoint: string, params?: Record<string, string | number | boolean | undefined>): Promise<T> {\n    return this.request<T>(endpoint, { method: \"DELETE\", params })\n  }\n}\n\nexport const apiClient = new ApiClient(API_BASE_URL)\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 117, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/EUROPEOLINE/Desktop/e-Commerce/next/tj-track/contexts/auth-context.tsx"],"sourcesContent":["\"use client\"\n\nimport { createContext, useContext, useState, useCallback, useEffect, type ReactNode } from \"react\"\nimport { apiClient, DEMO_MODE } from \"@/lib/api\"\nimport type { ProfileResponse, AuthRequest, ProfileRequest } from \"@/types/api\"\n\ninterface AuthContextType {\n  user: ProfileResponse | null\n  isAuthenticated: boolean\n  isLoading: boolean\n  login: (credentials: AuthRequest) => Promise<void>\n  register: (data: ProfileRequest) => Promise<void>\n  logout: () => void\n  verifyOtp: (email: string, otp: string) => Promise<void>\n  sendResetOtp: (email: string) => Promise<void>\n  resetPassword: (email: string, otp: string, newPassword: string) => Promise<void>\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined)\n\nconst demoUsers: Record<string, { password: string; user: ProfileResponse }> = {\n  \"client@demo.com\": {\n    password: \"password123\",\n    user: {\n      userId: \"demo-client-1\",\n      name: \"Client Demo\",\n      email: \"client@demo.com\",\n      isAccountVerified: true,\n      isApproved: true,\n      roles: [\"CLIENT\"],\n      phoneNumber: \"+237600000001\",\n      town: \"Douala\",\n      address: \"Akwa\",\n    },\n  },\n  \"merchant@demo.com\": {\n    password: \"password123\",\n    user: {\n      userId: \"demo-merchant-1\",\n      name: \"Marchand Demo\",\n      email: \"merchant@demo.com\",\n      isAccountVerified: true,\n      isApproved: true,\n      roles: [\"COMMERCANT\"],\n      phoneNumber: \"+237600000002\",\n      enterpriseName: \"Ma Boutique Demo\",\n      town: \"Yaoundé\",\n      address: \"Centre-ville\",\n    },\n  },\n  \"admin@demo.com\": {\n    password: \"password123\",\n    user: {\n      userId: \"demo-admin-1\",\n      name: \"Admin Demo\",\n      email: \"admin@demo.com\",\n      isAccountVerified: true,\n      isApproved: true,\n      roles: [\"ADMIN\"],\n      phoneNumber: \"+237600000003\",\n      town: \"Douala\",\n      address: \"Bonanjo\",\n    },\n  },\n  \"supplier@demo.com\": {\n    password: \"password123\",\n    user: {\n      userId: \"demo-supplier-1\",\n      name: \"Fournisseur Demo\",\n      email: \"supplier@demo.com\",\n      isAccountVerified: true,\n      isApproved: true,\n      roles: [\"FOURNISSEUR\"],\n      phoneNumber: \"+237600000004\",\n      enterpriseName: \"Fournitures Pro SARL\",\n      town: \"Douala\",\n      address: \"Zone Industrielle Bassa\",\n    },\n  },\n  \"livreur@demo.com\": {\n    password: \"password123\",\n    user: {\n      userId: \"demo-livreur-1\",\n      name: \"Livreur Demo\",\n      email: \"livreur@demo.com\",\n      isAccountVerified: true,\n      isApproved: true,\n      roles: [\"LIVREUR\"],\n      phoneNumber: \"+237600000005\",\n      town: \"Yaoundé\",\n      address: \"Mvan\",\n    },\n  },\n  \"gestionnaire@demo.com\": {\n    password: \"password123\",\n    user: {\n      userId: \"demo-gestionnaire-1\",\n      name: \"Gestionnaire Stock Demo\",\n      email: \"gestionnaire@demo.com\",\n      isAccountVerified: true,\n      isApproved: true,\n      roles: [\"GESTIONNAIRE_STOCK\"],\n      phoneNumber: \"+237600000006\",\n      town: \"Douala\",\n      address: \"Bonapriso\",\n    },\n  },\n}\n\nexport function AuthProvider({ children }: { children: ReactNode }) {\n  const [user, setUser] = useState<ProfileResponse | null>(null)\n  const [isLoading, setIsLoading] = useState(true)\n\n  // Check for existing session on mount\n  useEffect(() => {\n    const token = localStorage.getItem(\"tj-track-token\")\n    const savedUser = localStorage.getItem(\"tj-track-user\")\n    console.log('Auth init - token:', !!token, 'savedUser:', !!savedUser)\n\n    if (token && savedUser) {\n      try {\n        const parsedUser = JSON.parse(savedUser)\n        apiClient.setToken(token)\n        setUser(parsedUser)\n        document.cookie = `tj-track-token=${token}; path=/; max-age=${7 * 24 * 60 * 60}`\n        console.log('Auth restored:', parsedUser)\n      } catch {\n        localStorage.removeItem(\"tj-track-token\")\n        localStorage.removeItem(\"tj-track-user\")\n        document.cookie = 'tj-track-token=; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT'\n        console.log('Auth restore failed')\n      }\n    }\n    setIsLoading(false)\n  }, [])\n\n  // Debug: Log user state changes\n  useEffect(() => {\n    console.log('Auth state changed - user:', user, 'isAuthenticated:', !!user)\n  }, [user])\n\n  const login = useCallback(async (credentials: AuthRequest) => {\n    setIsLoading(true)\n    console.log(\"[v0] Login attempt with:\", credentials.email)\n\n    try {\n      if (DEMO_MODE) {\n        await new Promise((resolve) => setTimeout(resolve, 800)) // Simule latence réseau\n\n        const demoUser = demoUsers[credentials.email]\n        if (demoUser && demoUser.password === credentials.password) {\n          const token = \"demo-token-\" + Date.now()\n          localStorage.setItem(\"tj-track-token\", token)\n          localStorage.setItem(\"tj-track-user\", JSON.stringify(demoUser.user))\n          document.cookie = `tj-track-token=${token}; path=/; max-age=${7 * 24 * 60 * 60}`\n          apiClient.setToken(token)\n          setUser(demoUser.user)\n          console.log(\"[v0] Demo login successful\")\n          return\n        }\n\n        // Permet aussi de se connecter avec n'importe quel email en mode démo\n        if (credentials.password.length >= 8) {\n          const newUser: ProfileResponse = {\n            userId: \"user-\" + Date.now(),\n            name: credentials.email.split(\"@\")[0],\n            email: credentials.email,\n            isAccountVerified: true,\n            isApproved: true,\n            roles: [\"CLIENT\"],\n          }\n          const token = \"demo-token-\" + Date.now()\n          localStorage.setItem(\"tj-track-token\", token)\n          localStorage.setItem(\"tj-track-user\", JSON.stringify(newUser))\n          document.cookie = `tj-track-token=${token}; path=/; max-age=${7 * 24 * 60 * 60}`\n          apiClient.setToken(token)\n          setUser(newUser)\n          console.log(\"[v0] Demo login with new user successful\")\n          return\n        }\n\n        throw new Error(\"Email ou mot de passe incorrect\")\n      }\n\n      // Mode production - appel API réel\n      try {\n        const response = await apiClient.post<{ token: string; user: ProfileResponse }>(\"/login\", credentials)\n\n        if (response.token) {\n          localStorage.setItem(\"tj-track-token\", response.token)\n          localStorage.setItem(\"tj-track-user\", JSON.stringify(response.user))\n          document.cookie = `tj-track-token=${response.token}; path=/; max-age=${7 * 24 * 60 * 60}`\n          apiClient.setToken(response.token)\n          setUser(response.user)\n        }\n      } catch (apiError) {\n        console.warn(\"API login failed, trying demo fallback\")\n        \n        // Fallback to demo mode if backend is unavailable\n        const demoUser = demoUsers[credentials.email]\n        if (demoUser && demoUser.password === credentials.password) {\n          const token = \"demo-token-\" + Date.now()\n          localStorage.setItem(\"tj-track-token\", token)\n          localStorage.setItem(\"tj-track-user\", JSON.stringify(demoUser.user))\n          document.cookie = `tj-track-token=${token}; path=/; max-age=${7 * 24 * 60 * 60}`\n          apiClient.setToken(token)\n          setUser(demoUser.user)\n          console.log(\"[v0] Demo fallback login successful\")\n          return\n        }\n        \n        throw new Error(\"Serveur indisponible. Utilisez les comptes de démonstration: client@demo.com, merchant@demo.com (mot de passe: password123)\")\n      }\n    } catch (error) {\n      console.error(\"[v0] Login error:\", error)\n      throw error\n    } finally {\n      setIsLoading(false)\n    }\n  }, [])\n\n  const register = useCallback(async (data: ProfileRequest) => {\n    setIsLoading(true)\n    console.log(\"[v0] Register attempt:\", data.email, data.role)\n\n    try {\n      if (DEMO_MODE) {\n        await new Promise((resolve) => setTimeout(resolve, 800))\n        console.log(\"[v0] Demo registration successful, OTP sent\")\n        return\n      }\n\n      try {\n        await apiClient.post(\"/register\", data)\n      } catch (apiError) {\n        console.warn(\"API registration failed, using demo fallback\")\n        await new Promise((resolve) => setTimeout(resolve, 800))\n        console.log(\"[v0] Demo registration fallback successful, OTP sent\")\n      }\n    } catch (error) {\n      console.error(\"[v0] Register error:\", error)\n      throw error\n    } finally {\n      setIsLoading(false)\n    }\n  }, [])\n\n  const verifyOtp = useCallback(async (email: string, otp: string) => {\n    setIsLoading(true)\n    console.log(\"[v0] Verify OTP for:\", email)\n\n    try {\n      if (DEMO_MODE) {\n        await new Promise((resolve) => setTimeout(resolve, 800))\n\n        if (otp.length === 6) {\n          const newUser: ProfileResponse = {\n            userId: \"user-\" + Date.now(),\n            name: email.split(\"@\")[0],\n            email: email,\n            isAccountVerified: true,\n            isApproved: true,\n            roles: [\"CLIENT\"],\n          }\n          const token = \"demo-token-\" + Date.now()\n          localStorage.setItem(\"tj-track-token\", token)\n          localStorage.setItem(\"tj-track-user\", JSON.stringify(newUser))\n          document.cookie = `tj-track-token=${token}; path=/; max-age=${7 * 24 * 60 * 60}`\n          apiClient.setToken(token)\n          setUser(newUser)\n          console.log(\"[v0] Demo OTP verification successful\")\n          return\n        }\n\n        throw new Error(\"Code OTP invalide\")\n      }\n\n      try {\n        const response = await apiClient.post<{ token: string; user: ProfileResponse }>(\"/verify-otp\", { email, otp })\n\n        if (response.token) {\n          localStorage.setItem(\"tj-track-token\", response.token)\n          localStorage.setItem(\"tj-track-user\", JSON.stringify(response.user))\n          document.cookie = `tj-track-token=${response.token}; path=/; max-age=${7 * 24 * 60 * 60}`\n          apiClient.setToken(response.token)\n          setUser(response.user)\n        }\n      } catch (apiError) {\n        console.warn(\"API OTP verification failed, using demo fallback\")\n        \n        if (otp.length === 6) {\n          const newUser: ProfileResponse = {\n            userId: \"user-\" + Date.now(),\n            name: email.split(\"@\")[0],\n            email: email,\n            isAccountVerified: true,\n            isApproved: true,\n            roles: [\"CLIENT\"],\n          }\n          const token = \"demo-token-\" + Date.now()\n          localStorage.setItem(\"tj-track-token\", token)\n          localStorage.setItem(\"tj-track-user\", JSON.stringify(newUser))\n          document.cookie = `tj-track-token=${token}; path=/; max-age=${7 * 24 * 60 * 60}`\n          apiClient.setToken(token)\n          setUser(newUser)\n          console.log(\"[v0] Demo OTP fallback successful\")\n          return\n        }\n        \n        throw new Error(\"Code OTP invalide\")\n      }\n    } catch (error) {\n      console.error(\"[v0] Verify OTP error:\", error)\n      throw error\n    } finally {\n      setIsLoading(false)\n    }\n  }, [])\n\n  const sendResetOtp = useCallback(async (email: string) => {\n    console.log(\"[v0] Send reset OTP to:\", email)\n\n    if (DEMO_MODE) {\n      await new Promise((resolve) => setTimeout(resolve, 800))\n      console.log(\"[v0] Demo reset OTP sent\")\n      return\n    }\n\n    try {\n      await apiClient.post(\"/send-reset-otp\", undefined, { email })\n    } catch (apiError) {\n      console.warn(\"API reset OTP failed, using demo fallback\")\n      await new Promise((resolve) => setTimeout(resolve, 800))\n      console.log(\"[v0] Demo reset OTP fallback sent\")\n    }\n  }, [])\n\n  const resetPassword = useCallback(async (email: string, otp: string, newPassword: string) => {\n    console.log(\"[v0] Reset password for:\", email)\n\n    if (DEMO_MODE) {\n      await new Promise((resolve) => setTimeout(resolve, 800))\n      console.log(\"[v0] Demo password reset successful\")\n      return\n    }\n\n    try {\n      await apiClient.post(\"/reset-password\", { email, otp, newPassword })\n    } catch (apiError) {\n      console.warn(\"API password reset failed, using demo fallback\")\n      await new Promise((resolve) => setTimeout(resolve, 800))\n      console.log(\"[v0] Demo password reset fallback successful\")\n    }\n  }, [])\n\n  const logout = useCallback(() => {\n    console.log(\"[v0] Logout\")\n    localStorage.removeItem(\"tj-track-token\")\n    localStorage.removeItem(\"tj-track-user\")\n    document.cookie = 'tj-track-token=; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT'\n    apiClient.setToken(null)\n    setUser(null)\n    \n    if (typeof window !== 'undefined') {\n      window.location.href = '/'\n    }\n  }, [])\n\n  return (\n    <AuthContext.Provider\n      value={{\n        user,\n        isAuthenticated: !!user,\n        isLoading,\n        login,\n        register,\n        logout,\n        verifyOtp,\n        sendResetOtp,\n        resetPassword,\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  )\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext)\n  if (!context) {\n    throw new Error(\"useAuth must be used within an AuthProvider\")\n  }\n  return context\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 548, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/EUROPEOLINE/Desktop/e-Commerce/next/tj-track/contexts/cart-context.tsx"],"sourcesContent":["\"use client\"\n\nimport { createContext, useContext, useState, useCallback, useEffect, type ReactNode } from \"react\"\nimport { apiClient, DEMO_MODE } from \"@/lib/api\"\nimport type { PanierDto, PanierItemDto, PanierRequest } from \"@/types/api\"\nimport { useAuth } from \"./auth-context\"\n\ninterface LocalCartItem extends PanierItemDto {\n  articleNom: string\n  articlePhoto?: string\n  prixUnitaire: number\n}\n\ninterface CartContextType {\n  items: LocalCartItem[]\n  isOpen: boolean\n  isLoading: boolean\n  totalItems: number\n  totalAmount: number\n  montantHT: number\n  montantTVA: number\n  addItem: (\n    articleIdOrItem: number | PanierItemDto,\n    quantite?: number,\n    productInfo?: { name: string; price: number; image?: string },\n  ) => Promise<void>\n  updateQuantity: (articleId: number, quantite: number) => Promise<void>\n  removeItem: (articleId: number) => Promise<void>\n  clearCart: () => Promise<void>\n  openCart: () => void\n  closeCart: () => void\n  toggleCart: () => void\n  refreshCart: () => Promise<void>\n}\n\nconst CartContext = createContext<CartContextType | undefined>(undefined)\n\nconst LOCAL_CART_KEY = \"tj-track-cart\"\n\nexport function CartProvider({ children }: { children: ReactNode }) {\n  const { user, isAuthenticated } = useAuth()\n  const [localItems, setLocalItems] = useState<LocalCartItem[]>([])\n  const [isOpen, setIsOpen] = useState(false)\n  const [isLoading, setIsLoading] = useState(false)\n\n  useEffect(() => {\n    if (typeof window !== \"undefined\") {\n      const saved = localStorage.getItem(LOCAL_CART_KEY)\n      if (saved) {\n        try {\n          setLocalItems(JSON.parse(saved))\n        } catch (e) {\n          console.error(\"Error parsing local cart:\", e)\n        }\n      }\n    }\n  }, [])\n\n  useEffect(() => {\n    if (typeof window !== \"undefined\") {\n      localStorage.setItem(LOCAL_CART_KEY, JSON.stringify(localItems))\n    }\n  }, [localItems])\n\n  const items = localItems\n  const totalItems = localItems.reduce((sum, item) => sum + item.quantite, 0)\n  const totalAmount = localItems.reduce((sum, item) => sum + item.sousTotal, 0)\n  const montantHT = totalAmount * 0.8095\n  const montantTVA = totalAmount * 0.1905\n\n  const refreshCart = useCallback(async () => {\n    // In demo mode, cart is already in localStorage\n    if (DEMO_MODE) return\n\n    if (!isAuthenticated || !user?.email) return\n\n    setIsLoading(true)\n    try {\n      const data = await apiClient.get<PanierDto>(\"/panier\", { userEmail: user.email })\n      if (data?.items) {\n        setLocalItems(data.items as LocalCartItem[])\n      }\n    } catch (error) {\n      // Silently fail - use local cart\n    } finally {\n      setIsLoading(false)\n    }\n  }, [isAuthenticated, user?.email])\n\n  const addItem = useCallback(\n    async (\n      articleIdOrItem: number | PanierItemDto,\n      quantite?: number,\n      productInfo?: { name: string; price: number; image?: string }\n    ) => {\n      // Handle object parameter (PanierItemDto)\n      if (typeof articleIdOrItem === 'object') {\n        const item = articleIdOrItem\n        setLocalItems((prev) => {\n          const existingIndex = prev.findIndex((i) => i.articleId === item.articleId)\n          if (existingIndex >= 0) {\n            const updated = [...prev]\n            const newQuantite = updated[existingIndex].quantite + item.quantite\n            updated[existingIndex] = {\n              ...updated[existingIndex],\n              quantite: newQuantite,\n              sousTotal: newQuantite * item.prixUnitaire,\n            }\n            return updated\n          }\n          return [...prev, { ...item, id: Date.now() } as LocalCartItem]\n        })\n        return\n      }\n\n      // Handle separate parameters\n      const articleId = articleIdOrItem\n      if (!quantite || !productInfo) {\n        throw new Error(\"Quantity and product info required\")\n      }\n\n      setLocalItems((prev) => {\n        const existingIndex = prev.findIndex((i) => i.articleId === articleId)\n        if (existingIndex >= 0) {\n          const updated = [...prev]\n          const newQuantite = updated[existingIndex].quantite + quantite\n          updated[existingIndex] = {\n            ...updated[existingIndex],\n            quantite: newQuantite,\n            sousTotal: newQuantite * productInfo.price,\n          }\n          return updated\n        }\n        return [\n          ...prev,\n          {\n            id: Date.now(),\n            articleId,\n            articleCode: `ART-${articleId}`,\n            articleNom: productInfo.name,\n            articlePhoto: productInfo.image,\n            quantite,\n            prixUnitaire: productInfo.price,\n            sousTotal: quantite * productInfo.price,\n            stockDisponible: 100,\n            disponible: true,\n          },\n        ]\n      })\n\n      if (!DEMO_MODE && isAuthenticated && user?.email) {\n        try {\n          const request: PanierRequest = { articleId, quantite }\n          await apiClient.post(\"/panier/ajouter\", request, { userEmail: user.email })\n        } catch (error) {\n          // API sync failed, but local cart is updated\n        }\n      }\n    },\n    [isAuthenticated, user?.email],\n  )\n\n  const updateQuantity = useCallback(\n    async (articleId: number, quantite: number) => {\n      if (quantite <= 0) {\n        return removeItem(articleId)\n      }\n\n      setLocalItems((prev) =>\n        prev.map((item) =>\n          item.articleId === articleId ? { ...item, quantite, sousTotal: quantite * item.prixUnitaire } : item,\n        ),\n      )\n\n      if (!DEMO_MODE && isAuthenticated && user?.email) {\n        try {\n          const request: PanierRequest = { articleId, quantite }\n          await apiClient.put(\"/panier/modifier\", request, { userEmail: user.email })\n        } catch (error) {\n          // API sync failed\n        }\n      }\n    },\n    [isAuthenticated, user?.email],\n  )\n\n  const removeItem = useCallback(\n    async (articleId: number) => {\n      setLocalItems((prev) => prev.filter((i) => i.articleId !== articleId))\n\n      if (!DEMO_MODE && isAuthenticated && user?.email) {\n        try {\n          await apiClient.delete(`/panier/supprimer/${articleId}`, { userEmail: user.email })\n        } catch (error) {\n          // API sync failed\n        }\n      }\n    },\n    [isAuthenticated, user?.email],\n  )\n\n  const clearCart = useCallback(async () => {\n    setLocalItems([])\n    localStorage.removeItem(LOCAL_CART_KEY)\n\n    if (!DEMO_MODE && isAuthenticated && user?.email) {\n      try {\n        await apiClient.delete(\"/panier/vider\", { userEmail: user.email })\n      } catch (error) {\n        // API sync failed\n      }\n    }\n  }, [isAuthenticated, user?.email])\n\n  const openCart = useCallback(() => setIsOpen(true), [])\n  const closeCart = useCallback(() => setIsOpen(false), [])\n  const toggleCart = useCallback(() => setIsOpen((prev) => !prev), [])\n\n  return (\n    <CartContext.Provider\n      value={{\n        items,\n        isOpen,\n        isLoading,\n        totalItems,\n        totalAmount,\n        montantHT,\n        montantTVA,\n        addItem,\n        updateQuantity,\n        removeItem,\n        clearCart,\n        openCart,\n        closeCart,\n        toggleCart,\n        refreshCart,\n      }}\n    >\n      {children}\n    </CartContext.Provider>\n  )\n}\n\nexport function useCart() {\n  const context = useContext(CartContext)\n  if (!context) {\n    throw new Error(\"useCart must be used within a CartProvider\")\n  }\n  return context\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 844, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/EUROPEOLINE/Desktop/e-Commerce/next/tj-track/hooks/use-toast.ts"],"sourcesContent":["'use client'\n\n// Inspired by react-hot-toast library\nimport * as React from 'react'\n\nimport type { ToastActionElement, ToastProps } from '@/components/ui/toast'\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: 'ADD_TOAST',\n  UPDATE_TOAST: 'UPDATE_TOAST',\n  DISMISS_TOAST: 'DISMISS_TOAST',\n  REMOVE_TOAST: 'REMOVE_TOAST',\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType['ADD_TOAST']\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType['UPDATE_TOAST']\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType['DISMISS_TOAST']\n      toastId?: ToasterToast['id']\n    }\n  | {\n      type: ActionType['REMOVE_TOAST']\n      toastId?: ToasterToast['id']\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: 'REMOVE_TOAST',\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case 'ADD_TOAST':\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case 'UPDATE_TOAST':\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t,\n        ),\n      }\n\n    case 'DISMISS_TOAST': {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t,\n        ),\n      }\n    }\n    case 'REMOVE_TOAST':\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, 'id'>\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: 'UPDATE_TOAST',\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: 'DISMISS_TOAST', toastId: id })\n\n  dispatch({\n    type: 'ADD_TOAST',\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: 'DISMISS_TOAST', toastId }),\n  }\n}\n\nexport { useToast, toast }\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1011, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/EUROPEOLINE/Desktop/e-Commerce/next/tj-track/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,4NAAO,EAAC,IAAA,mMAAI,EAAC;AACtB"}},
    {"offset": {"line": 1029, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/EUROPEOLINE/Desktop/e-Commerce/next/tj-track/components/ui/toast.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as ToastPrimitives from '@radix-ui/react-toast'\nimport { cva, type VariantProps } from 'class-variance-authority'\nimport { X } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      'fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]',\n      className,\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  'group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full',\n  {\n    variants: {\n      variant: {\n        default: 'border bg-background text-foreground',\n        destructive:\n          'destructive group border-destructive bg-destructive text-destructive-foreground',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      'inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive',\n      className,\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      'absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600',\n      className,\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn('text-sm font-semibold', className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn('text-sm opacity-90', className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;AAEA;AAPA;;;;;;;AASA,MAAM,gBAAgB,mOAAwB;AAE9C,MAAM,8BAAgB,8NAAgB,MAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,gPAAC,mOAAwB;QACvB,KAAK;QACL,WAAW,IAAA,wKAAE,EACX,qIACA;QAED,GAAG,KAAK;;;;;;;AAGb,cAAc,WAAW,GAAG,mOAAwB,CAAC,WAAW;AAEhE,MAAM,gBAAgB,IAAA,6NAAG,EACvB,6lBACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,MAAM,sBAAQ,8NAAgB,OAI5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAO,EAAE;IACnC,qBACE,gPAAC,+NAAoB;QACnB,KAAK;QACL,WAAW,IAAA,wKAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;;AACA,MAAM,WAAW,GAAG,+NAAoB,CAAC,WAAW;AAEpD,MAAM,4BAAc,8NAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,gPAAC,iOAAsB;QACrB,KAAK;QACL,WAAW,IAAA,wKAAE,EACX,sgBACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,iOAAsB,CAAC,WAAW;AAE5D,MAAM,2BAAa,8NAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,gPAAC,gOAAqB;QACpB,KAAK;QACL,WAAW,IAAA,wKAAE,EACX,yVACA;QAEF,eAAY;QACX,GAAG,KAAK;kBAET,cAAA,gPAAC,uPAAC;YAAC,WAAU;;;;;;;;;;;;AAGjB,WAAW,WAAW,GAAG,gOAAqB,CAAC,WAAW;AAE1D,MAAM,2BAAa,8NAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,gPAAC,gOAAqB;QACpB,KAAK;QACL,WAAW,IAAA,wKAAE,EAAC,yBAAyB;QACtC,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG,gOAAqB,CAAC,WAAW;AAE1D,MAAM,iCAAmB,8NAAgB,QAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,gPAAC,sOAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,wKAAE,EAAC,sBAAsB;QACnC,GAAG,KAAK;;;;;;;AAGb,iBAAiB,WAAW,GAAG,sOAA2B,CAAC,WAAW"}},
    {"offset": {"line": 1169, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/EUROPEOLINE/Desktop/e-Commerce/next/tj-track/components/ui/toaster.tsx"],"sourcesContent":["'use client'\n\nimport { useToast } from '@/hooks/use-toast'\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from '@/components/ui/toast'\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAYO,SAAS;;IACd,MAAM,EAAE,MAAM,EAAE,GAAG,IAAA,uLAAQ;IAE3B,qBACE,gPAAC,iMAAa;;YACX,OAAO,GAAG,CAAC,SAAU,EAAE,EAAE,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,GAAG,OAAO;gBAChE,qBACE,gPAAC,yLAAK;oBAAW,GAAG,KAAK;;sCACvB,gPAAC;4BAAI,WAAU;;gCACZ,uBAAS,gPAAC,8LAAU;8CAAE;;;;;;gCACtB,6BACC,gPAAC,oMAAgB;8CAAE;;;;;;;;;;;;wBAGtB;sCACD,gPAAC,8LAAU;;;;;;mBARD;;;;;YAWhB;0BACA,gPAAC,iMAAa;;;;;;;;;;;AAGpB;GAtBgB;;QACK,uLAAQ;;;KADb"}},
    {"offset": {"line": 1253, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/EUROPEOLINE/Desktop/e-Commerce/next/tj-track/components/ui/alert.tsx"],"sourcesContent":["import * as React from 'react'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst alertVariants = cva(\n  'relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current',\n  {\n    variants: {\n      variant: {\n        default: 'bg-card text-card-foreground',\n        destructive:\n          'text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction Alert({\n  className,\n  variant,\n  ...props\n}: React.ComponentProps<'div'> & VariantProps<typeof alertVariants>) {\n  return (\n    <div\n      data-slot=\"alert\"\n      role=\"alert\"\n      className={cn(alertVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"alert-title\"\n      className={cn(\n        'col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDescription({\n  className,\n  ...props\n}: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"alert-description\"\n      className={cn(\n        'text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Alert, AlertTitle, AlertDescription }\n"],"names":[],"mappings":";;;;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,6NAAG,EACvB,qOACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,GAAG,OAC8D;IACjE,qBACE,gPAAC;QACC,aAAU;QACV,MAAK;QACL,WAAW,IAAA,wKAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAbS;AAeT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,gPAAC;QACC,aAAU;QACV,WAAW,IAAA,wKAAE,EACX,+DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,iBAAiB,EACxB,SAAS,EACT,GAAG,OACyB;IAC5B,qBACE,gPAAC;QACC,aAAU;QACV,WAAW,IAAA,wKAAE,EACX,kGACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS"}},
    {"offset": {"line": 1329, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/EUROPEOLINE/Desktop/e-Commerce/next/tj-track/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,6NAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,8NAAI,GAAG;IAE9B,qBACE,gPAAC;QACC,aAAU;QACV,WAAW,IAAA,wKAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS"}},
    {"offset": {"line": 1394, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/EUROPEOLINE/Desktop/e-Commerce/next/tj-track/components/api-error-boundary.tsx"],"sourcesContent":["\"use client\"\n\nimport { Component, ReactNode } from \"react\"\nimport { Alert, AlertDescription, AlertTitle } from \"@/components/ui/alert\"\nimport { Button } from \"@/components/ui/button\"\nimport { AlertTriangle, RefreshCw } from \"lucide-react\"\n\ninterface Props {\n  children: ReactNode\n  fallback?: ReactNode\n}\n\ninterface State {\n  hasError: boolean\n  error?: Error\n}\n\nexport class ApiErrorBoundary extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props)\n    this.state = { hasError: false }\n  }\n\n  static getDerivedStateFromError(error: Error): State {\n    return { hasError: true, error }\n  }\n\n  componentDidCatch(error: Error, errorInfo: any) {\n    console.error('API Error Boundary caught an error:', error, errorInfo)\n  }\n\n  render() {\n    if (this.state.hasError) {\n      if (this.props.fallback) {\n        return this.props.fallback\n      }\n\n      return (\n        <Alert variant=\"destructive\" className=\"m-4\">\n          <AlertTriangle className=\"h-4 w-4\" />\n          <AlertTitle>Erreur de connexion API</AlertTitle>\n          <AlertDescription className=\"mt-2\">\n            <p className=\"mb-3\">\n              Une erreur s'est produite lors de la communication avec le serveur.\n            </p>\n            <p className=\"text-sm text-muted-foreground mb-3\">\n              {this.state.error?.message || \"Erreur inconnue\"}\n            </p>\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={() => {\n                this.setState({ hasError: false, error: undefined })\n                window.location.reload()\n              }}\n              className=\"flex items-center gap-2\"\n            >\n              <RefreshCw className=\"h-4 w-4\" />\n              Réessayer\n            </Button>\n          </AlertDescription>\n        </Alert>\n      )\n    }\n\n    return this.props.children\n  }\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AALA;;;;;;AAiBO,MAAM,yBAAyB,6NAAS;IAC7C,YAAY,KAAY,CAAE;QACxB,KAAK,CAAC;QACN,IAAI,CAAC,KAAK,GAAG;YAAE,UAAU;QAAM;IACjC;IAEA,OAAO,yBAAyB,KAAY,EAAS;QACnD,OAAO;YAAE,UAAU;YAAM;QAAM;IACjC;IAEA,kBAAkB,KAAY,EAAE,SAAc,EAAE;QAC9C,QAAQ,KAAK,CAAC,uCAAuC,OAAO;IAC9D;IAEA,SAAS;QACP,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;YACvB,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;gBACvB,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ;YAC5B;YAEA,qBACE,gPAAC,yLAAK;gBAAC,SAAQ;gBAAc,WAAU;;kCACrC,gPAAC,+RAAa;wBAAC,WAAU;;;;;;kCACzB,gPAAC,8LAAU;kCAAC;;;;;;kCACZ,gPAAC,oMAAgB;wBAAC,WAAU;;0CAC1B,gPAAC;gCAAE,WAAU;0CAAO;;;;;;0CAGpB,gPAAC;gCAAE,WAAU;0CACV,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,WAAW;;;;;;0CAEhC,gPAAC,2LAAM;gCACL,SAAQ;gCACR,MAAK;gCACL,SAAS;oCACP,IAAI,CAAC,QAAQ,CAAC;wCAAE,UAAU;wCAAO,OAAO;oCAAU;oCAClD,OAAO,QAAQ,CAAC,MAAM;gCACxB;gCACA,WAAU;;kDAEV,gPAAC,mRAAS;wCAAC,WAAU;;;;;;oCAAY;;;;;;;;;;;;;;;;;;;QAM3C;QAEA,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ;IAC5B;AACF"}},
    {"offset": {"line": 1517, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/EUROPEOLINE/Desktop/e-Commerce/next/tj-track/lib/query-client.ts"],"sourcesContent":["import { QueryClient } from \"@tanstack/react-query\"\nimport { toast } from \"sonner\"\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      retry: (failureCount, error) => {\n        // Don't retry on 4xx errors (client errors)\n        if (error instanceof Error && error.message.includes('HTTP: 4')) {\n          return false\n        }\n        // Retry up to 3 times for other errors\n        return failureCount < 3\n      },\n      retryDelay: (attemptIndex) => Math.min(1000 * 2 ** attemptIndex, 30000),\n      staleTime: 5 * 60 * 1000, // 5 minutes\n      gcTime: 10 * 60 * 1000, // 10 minutes (formerly cacheTime)\n      refetchOnWindowFocus: false,\n      refetchOnReconnect: true,\n    },\n    mutations: {\n      retry: (failureCount, error) => {\n        // Don't retry mutations on client errors\n        if (error instanceof Error && error.message.includes('HTTP: 4')) {\n          return false\n        }\n        return failureCount < 2\n      },\n      onError: (error) => {\n        console.error('Mutation error:', error)\n        toast.error(\n          error instanceof Error \n            ? error.message \n            : \"Une erreur s'est produite lors de l'opération\"\n        )\n      },\n    },\n  },\n})\n\n// Global error handler for queries\nqueryClient.setMutationDefaults(['*'], {\n  onError: (error) => {\n    console.error('Query error:', error)\n    if (error instanceof Error && !error.message.includes('HTTP: 4')) {\n      toast.error(\"Erreur de connexion au serveur\")\n    }\n  },\n})"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,MAAM,cAAc,IAAI,kPAAW,CAAC;IACzC,gBAAgB;QACd,SAAS;YACP,OAAO,CAAC,cAAc;gBACpB,4CAA4C;gBAC5C,IAAI,iBAAiB,SAAS,MAAM,OAAO,CAAC,QAAQ,CAAC,YAAY;oBAC/D,OAAO;gBACT;gBACA,uCAAuC;gBACvC,OAAO,eAAe;YACxB;YACA,YAAY,CAAC,eAAiB,KAAK,GAAG,CAAC,OAAO,KAAK,cAAc;YACjE,WAAW,IAAI,KAAK;YACpB,QAAQ,KAAK,KAAK;YAClB,sBAAsB;YACtB,oBAAoB;QACtB;QACA,WAAW;YACT,OAAO,CAAC,cAAc;gBACpB,yCAAyC;gBACzC,IAAI,iBAAiB,SAAS,MAAM,OAAO,CAAC,QAAQ,CAAC,YAAY;oBAC/D,OAAO;gBACT;gBACA,OAAO,eAAe;YACxB;YACA,SAAS,CAAC;gBACR,QAAQ,KAAK,CAAC,mBAAmB;gBACjC,uMAAK,CAAC,KAAK,CACT,iBAAiB,QACb,MAAM,OAAO,GACb;YAER;QACF;IACF;AACF;AAEA,mCAAmC;AACnC,YAAY,mBAAmB,CAAC;IAAC;CAAI,EAAE;IACrC,SAAS,CAAC;QACR,QAAQ,KAAK,CAAC,gBAAgB;QAC9B,IAAI,iBAAiB,SAAS,CAAC,MAAM,OAAO,CAAC,QAAQ,CAAC,YAAY;YAChE,uMAAK,CAAC,KAAK,CAAC;QACd;IACF;AACF"}},
    {"offset": {"line": 1575, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/EUROPEOLINE/Desktop/e-Commerce/next/tj-track/components/providers.tsx"],"sourcesContent":["\"use client\"\n\nimport { QueryClientProvider } from \"@tanstack/react-query\"\nimport { ReactQueryDevtools } from \"@tanstack/react-query-devtools\"\nimport { type ReactNode } from \"react\"\nimport { AuthProvider } from \"@/contexts/auth-context\"\nimport { CartProvider } from \"@/contexts/cart-context\"\nimport { Toaster } from \"@/components/ui/toaster\"\nimport { Toaster as SonnerToaster } from \"sonner\"\nimport { ApiErrorBoundary } from \"@/components/api-error-boundary\"\nimport { queryClient } from \"@/lib/query-client\"\n\nexport function Providers({ children }: { children: ReactNode }) {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <ApiErrorBoundary>\n        <AuthProvider>\n          <CartProvider>\n            {children}\n            <Toaster />\n            <SonnerToaster position=\"top-right\" richColors />\n          </CartProvider>\n        </AuthProvider>\n      </ApiErrorBoundary>\n      {process.env.NODE_ENV === 'development' && <ReactQueryDevtools />}\n    </QueryClientProvider>\n  )\n}\n"],"names":[],"mappings":";;;;AAwBO;;AAtBP;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAVA;;;;;;;;;;AAYO,SAAS,UAAU,EAAE,QAAQ,EAA2B;IAC7D,qBACE,gPAAC,mQAAmB;QAAC,QAAQ,2LAAW;;0BACtC,gPAAC,iNAAgB;0BACf,cAAA,gPAAC,kMAAY;8BACX,cAAA,gPAAC,kMAAY;;4BACV;0CACD,gPAAC,6LAAO;;;;;0CACR,gPAAC,yMAAa;gCAAC,UAAS;gCAAY,UAAU;;;;;;;;;;;;;;;;;;;;;;YAInD,oDAAyB,+BAAiB,gPAAC,gQAAkB;;;;;;;;;;;AAGpE;KAfgB"}}]
}